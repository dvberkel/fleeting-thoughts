/*! fleeting-thoughts - v0.0.0 - 2013-01-14
 * https://github.com/dvberkel/fleeting-thoughts
 * Copyright (c) 2013 Daan van Berkel; Licensed MIT
 */
Fleeting={version:"0.0.0"},function(e,t,n,r,i){var s=n.Model.extend({defaults:{strategy:function(){},hidden:!1},tick:function(){this.get("strategy").call(this)},symbol:function(e){return this.accessor("symbol",e)},hidden:function(e){return this.accessor("hidden",e)},accessor:function(e,t){return t!==i&&this.set(e,t),t||this.get(e)}}),o=n.Collection.extend({model:s,addCharacter:function(e){var t=new s(e);t.set("strategy",this.strategy()),this.add(t)},tick:function(){this.each(function(e){e.tick()})},strategy:function(e){return e&&(this._strategy=e),e||this._strategy}}),u=n.View.extend({initialize:function(){this.render(),this.model.on("change:hidden",function(){this.model.hidden()&&this.container().animate({opacity:0},this.options.evaporateTime||3e3)},this)},render:function(){var e=this.container();e.text(this.model.symbol())},container:function(){return this._container||(this._container=e("<span class='character'/>"),this._container.appendTo(this.$el)),this._container}}),a=n.View.extend({initialize:function(){this.model||(this.model=new o,this.model.strategy(this.options.strategy||function(){})),this.render(),this.model.on("add",function(e){var t=this.container();new u({model:e,el:t,evaporateTime:this.options.evaporateTime})},this)},render:function(){var e=this.container()},container:function(){var t=this;return t._container||(t._container=e("<div class='characters'/>"),t._container.appendTo(t.$el),e("body").keypress(function(e){t.model.addCharacter({symbol:String.fromCharCode(e.which)})})),t._container},tick:function(){this.model.tick()}});r.Character=s,r.CharacterView=u,r.CharactersView=a}(jQuery,_,Backbone,Fleeting);